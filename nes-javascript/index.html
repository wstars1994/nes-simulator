<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>NES</title>
	</head>
	<body>
		<div id="app">
			<p>{{loadTip}}</p>
			<canvas id="game-render" width="256" height="240">
				current stock price: $3.15 +0.15
			</canvas>
			<div style="width: 800px;height: 800px;overflow: auto;">
				<p v-for="log in debugLog">{{log}}</p>
			</div>
			
			
		</div>
	</body>
	<script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
	<script src="https://cdn.bootcss.com/axios/0.19.0-beta.1/axios.min.js"></script>
	<script src="request.js"></script>
	<script src="core.js" type="text/javascript"></script>
	<script>
		new Vue({
			el: '#app',
			data() {
				return {
					loadTip: '加载中......',
					ctx: null,
					debugLog:[]
				}
			},
			mounted() {
				this.ctx = document.getElementById('game-render').getContext('2d');
				this.ctx.fillStyle = "rgb(0, 0, 0)";
				this.ctx.fillRect (0, 0,256,240);
				setTimeout(()=>{
					request.get('http://d.wxclog.com/neswiki/supermario.nes').then(res=>{
						this.loadTip = '加载完成,supermario'
						loadData(new Blob([res]),this.debugLog);
					})
				},3000)
				
			},
			methods: {
				
			}
		});
	</script>
	<style>
		#app{
			margin: 0 auto;
			width: 800px;
		}
		html,body{
			margin: 0;
			padding: 0;
		}
		p{
			font-size: 13px;
			margin: 0;
		}
	</style>
</html>
